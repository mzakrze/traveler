{"version":3,"sources":["logo.svg","components/LeafletComponent.js","components/FormComponent.js","components/ResultPresenterComponent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","L","window","polyUtil","require","LeafletComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","startLocationPopup","endLocationPopup","state","nextProps","popupOptions","closeOnClick","autoClose","startLocation","mymap","removeLayer","popup","setLatLng","setContent","openOn","endLocation","findRouteResultRev","plotFindRoutesResponse","findRouteResult","result","_this2","colorIndex","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","directions","Symbol","iterator","next","done","route","value","routes","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","legs","leg","legColor","getColor","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","steps","s","polyline","decode","points","leaftletPolyline","color","addLayer","err","return","places","console","log","selectedPlaces","placesToVisitInOrder","map","e","id","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","r","includes","place_id","latlng","geometry","location","proposedTime","find","name","types","join","rating","_iterator2","results","_this3","setView","tileLayer","maxZoom","attribution","addTo","on","handleClickOnMap","react_default","a","createElement","Component","SUPPORTED_PLACES_CODES","FormComponent","selectedPlacesTypes","acceptedTravelModes","awaitingForStartLocation","awaitingForEndLocation","startTimeHour","startTimeMinute","tripDuration","placesKeywords","lastMapClickCoords","setState","notifyNewStartLocation","notifyNewEndLocation","type","onClick","ev","checked","slice","target","push","index","indexOf","splice","htmlFor","msg","alert","validate","data","placesOfInterest","tripStart","hour","minute","travelModes","fetch","method","body","JSON","stringify","headers","Accept","Content-Type","then","response","json","error","notifyFindRouteResult","send","_this4","handleNewStartLocation","handleNewEndLocation","handleChange","key","defineProperty","renderTravelModeCheckbox","mode","style","onChange","parse","localStorage","getItem","stateJson","setItem","_this5","renderStartEndTripLocationsInput","height","overflow","place_code","renderCheckbox","renderFindRoutesButton","ResultPresenterComponent","currentlyExpandedRouteIndex","singleStep","routeIndex","background-color","onMouseEnter","onMouseLeave","summery","letRes","distance","text","duration","instructions","html_instructions","dangerouslySetInnerHTML","__html","concat","placeIdToName","filter","i","length","step","previousStepName","currentStepName","renderSingleStep","position","top","App","resultPresenterVisible","rev","d","res","colors","c","Math","floor","random","randomColor","formComponentStyleDisplay","resultPresenterStyleDisplay","display","marginRight","LeafletComponent_LeafletComponent","bind","width","FormComponent_FormComponent","handleFindRouteResult","ResultPresenterComponent_ResultPresenterComponent","notifyChangeScreen","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b00d73e1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from 'react';\n\n\n// Leaflet sources from CDN\nimport './LeafletComponent.css';\nconst L = window.L;\n\nvar polyUtil = require('polyline-encoded');\n\n\n\nexport default class LeafletComponent extends Component {\n\n    mymap: any;\n    startLocationPopup: any;\n    endLocationPopup: any;\n\n    constructor(props) {\n        super(props);\n        this.startLocationPopup = null;\n        this.endLocationPopup = null;\n        this.state = { };\n    }\n\n    componentWillReceiveProps(nextProps) {\n\n        const popupOptions = {\n            closeOnClick: false,\n            autoClose: false\n        };\n\n        if(this.props.startLocation !== nextProps.startLocation) {\n            if(this.startLocationPopup != null) {\n                this.mymap.removeLayer(this.startLocationPopup)\n            }\n            this.startLocationPopup = new L.popup(popupOptions)\n                    .setLatLng(nextProps.startLocation)\n                    .setContent('Start location');\n            this.startLocationPopup.openOn(this.mymap);\n        }\n\n        if(this.props.endLocation !== nextProps.endLocation) {\n            if(this.endLocationPopup != null) {\n                this.mymap.removeLayer(this.endLocationPopup)\n            }\n            this.endLocationPopup = new L.popup(popupOptions)\n                    .setLatLng(nextProps.endLocation)\n                    .setContent('End location');\n            this.endLocationPopup.openOn(this.mymap);\n        }\n\n\n        if(this.props.findRouteResultRev != nextProps.findRouteResultRev) {\n\n            this.plotFindRoutesResponse(nextProps.findRouteResult);\n\n        }\n    }\n\n\n\n    plotFindRoutesResponse(result) {\n        let colorIndex = 0;\n        for(let directions of result.directions) {\n\n            let route = directions.routes[0];\n\n            for(let leg of route.legs) {\n\n                let legColor = this.props.getColor(colorIndex);\n                colorIndex++;\n\n                for(let s of leg.steps) {\n                    var polyline = polyUtil.decode(s.polyline.points, 5);\n\n                    var leaftletPolyline = new L.polyline(polyline, {color: legColor});\n\n                    this.mymap.addLayer(leaftletPolyline);\n\n                    // leaftletPolyline.bindTooltip(\"TODO Polyline  tooltip content: \" + legColor);\n                }\n            }\n\n        }\n\n\n\n        // -----------------------------------------------------\n\n        let places = result.places;\n\n        console.log(places)\n        console.log(result.selectedPlaces.placesToVisitInOrder.map(e => e.id))\n\n        for(let r of places.results) {\n\n            let ord = result.selectedPlaces.placesToVisitInOrder;\n            if(result.selectedPlaces.placesToVisitInOrder.map(e => e.id).includes(r.place_id) == false) {\n                continue;\n            }\n\n\n            let latlng = r.geometry.location;\n            let proposedTime = result.selectedPlaces.placesToVisitInOrder.find(e => e.id == r.place_id).proposedTime;\n            let name = \"<p><b>\" + r.name + \"</b> \" + proposedTime + \" minutes (\" + r.types.join() + \")\" + (r.rating != null ? \"\\nrating:\" + r.rating : \"\") + \"</p>\";\n\n            let p = new L.popup({\n                    closeOnClick: false,\n                    autoClose: false\n                })\n                .setLatLng(latlng)\n                .setContent(name);\n\n            p.openOn(this.mymap);\n        }\n\n\n        // -----------------------------------------------------\n        const popupOptions = {\n            closeOnClick: false,\n            autoClose: false\n        };\n        this.startLocationPopup = new L.popup(popupOptions)\n                    .setLatLng(result.startLocation)\n                    .setContent('Start location');\n        this.startLocationPopup.openOn(this.mymap);\n\n        this.endLocationPopup = new L.popup(popupOptions)\n                    .setLatLng(result.endLocation)\n                    .setContent('End location');\n        this.endLocationPopup.openOn(this.mymap);\n    }\n\n\n    componentDidMount(){\n        this.mymap = L.map('leaftlet-map-id').setView([52.218994864793, 21.011712029573467], 14);\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\n            maxZoom: 18,\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, ' +\n                '<a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' +\n                'Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n            id: 'mapbox.streets'\n        }).addTo(this.mymap);\n\n        let onMapClick = (e) => {\n            this.props.handleClickOnMap(e.latlng);\n        }\n\n        this.mymap.on('click', onMapClick);\n    }\n\n\n    render() {\n        return <div id=\"leaftlet-map-id\" />;\n    }\n}\n\n","/* @flow */\nimport React, { Component } from 'react';\n\n\n// TODO - mapowanie place_code na postać dla użytkownika\nconst SUPPORTED_PLACES_CODES = ['amusement_park','aquarium','art_gallery','bar','beauty_salon','book_store','bowling_alley','cafe','casino','church','city_hall','clothing_store','gym','hair_care','laundry','meal_takeaway','movie_rental','movie_theater','museum','night_club','park','pharmacy','store','supermarket','travel_agency', 'zoo']\n\n\nexport default class FormComponent extends Component {\n    props: Props;\n    state: State;\n\n    constructor(props: Props){\n        super(props);\n        this.state = {\n            selectedPlacesTypes: [],\n            acceptedTravelModes: [],\n            startLocation: null,\n            awaitingForStartLocation: false,\n            endLocation: null,\n            awaitingForEndLocation: false,\n            startTimeHour: '',\n            startTimeMinute: '',\n            tripDuration: '',\n            placesKeywords: '',\n        }\n    }\n\n    componentWillReceiveProps(nextProps:  Props) {\n        if(this.state.props !== nextProps.lastMapClickCoords){\n\n            if(this.state.awaitingForStartLocation) {\n                this.setState({\n                    awaitingForStartLocation: false,\n                    startLocation: nextProps.lastMapClickCoords\n                });\n                this.props.notifyNewStartLocation(nextProps.lastMapClickCoords);\n            }\n\n            if(this.state.awaitingForEndLocation) {\n                this.setState({\n                    awaitingForEndLocation: false,\n                    endLocation: nextProps.lastMapClickCoords\n                });\n                this.props.notifyNewEndLocation(nextProps.lastMapClickCoords);\n            }\n        }\n\n    }\n\n    renderCheckbox(name: string) {\n        let handle = (ev) => {\n            let checked = this.state.selectedPlacesTypes.slice()\n            if(ev.target.checked) {\n                checked.push(name);\n            } else {\n                let index = checked.indexOf(name);\n                checked.splice(index, 1);\n            }\n            this.setState({\n                selectedPlacesTypes: checked\n            });\n        }\n        return [\n            <input type=\"checkbox\" id={name} name={name} value={name} onClick={handle}/>,\n            <label htmlFor={name}>{name}</label>,\n            <br />\n        ];\n    }\n\n    renderFindRoutesButton() {\n        let validate = () => {\n            let msg = '';\n            if(this.state.startLocation == null) {\n                msg += 'Set your start location\\n';\n            }\n            if(this.state.endLocation == null) {\n                msg += 'Set your end location\\n';\n            }\n            if(this.state.tripDuration == '') {\n                msg += 'Set you trip duration\\n';\n            }\n\n            if(msg != '') {\n                alert(msg)\n            }\n            return msg == ''; // no alert = validation ok\n        }\n\n        let send = () => {\n            let data = {\n                placesOfInterest: this.state.selectedPlacesTypes,\n                startLocation: this.state.startLocation,\n                endLocation: this.state.endLocation,\n                tripStart: this.state.startTimeHour == '' && this.state.startTimeMinute == '' ? null : {hour: this.state.startTimeHour, minute: this.state.startTimeMinute},\n                tripDuration: this.state.tripDuration,\n                placesKeywords: this.state.placesKeywords,\n                travelModes: this.state.acceptedTravelModes\n            }\n            fetch('/api/maps/find_route', {\n                method: 'POST',\n                body: JSON.stringify(data),\n                headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                },\n            })\n                .then((response) => {\n                    return response.json();\n                })\n                .then((response) => {\n                    if(response.error != null) {\n                       alert(response.error);\n                    } else {\n                        this.props.notifyFindRouteResult(response);\n                    }\n                });\n            alert(\"Please wait ... (should take about 10 seconds)\")\n        }\n        return <button type=\"button\" onClick={() => {if(validate()) {send()}}}>Do find route</button>\n    }\n\n    renderStartEndTripLocationsInput() {\n        let handleNewStartLocation = () => {\n            this.setState({\n                awaitingForStartLocation: true,\n                awaitingForEndLocation: false,\n            });\n        }\n\n        let handleNewEndLocation = () => {\n            this.setState({\n                awaitingForEndLocation: true,\n                awaitingForStartLocation: false,\n            });\n        }\n\n        let handleChange = (key, value) => {\n            this.setState({[key]: value});\n        }\n\n        let renderTravelModeCheckbox = (mode) => {\n            let handle = (ev) => {\n                alert(\"Warning: \\nthis makes no effect(currently not implemented)\")\n                let checked = this.state.acceptedTravelModes.slice()\n                if(ev.target.checked) {\n                    checked.push(mode);\n                } else {\n                    let index = checked.indexOf(mode);\n                    checked.splice(index, 1);\n                }\n                this.setState({\n                    acceptedTravelModes: checked\n                });\n            }\n            return [\n                <input type=\"checkbox\" id={mode} name={mode} value={mode} onClick={handle}/>,\n                <label htmlFor={mode}>{mode}</label>,\n                <br />\n            ];\n        }\n\n        return [\n            <p>Your trip start-point location: </p>,\n            this.state.startLocation == null ?\n                <p style={{color: 'red'}}>You havent set your start location!</p>\n                :\n                <p>{JSON.stringify(this.state.startLocation)}</p>\n            ,\n            this.state.startLocation == null ?\n                <button type=\"button\" onClick={handleNewStartLocation}>Set your start position</button>\n                :\n                <button type=\"button\" onClick={handleNewStartLocation}>Update start position</button>\n            ,\n            <br />,\n            <hr />,\n            <p>Your trip end-point location: </p>,\n            this.state.endLocation == null ?\n                <p style={{color: 'red'}}>You havent set your end location!</p>\n                :\n                <p>{JSON.stringify(this.state.endLocation)}</p>\n            ,\n            this.state.endLocation == null ?\n                <button type=\"button\" onClick={handleNewEndLocation}>Set your end position</button>\n                :\n                <button type=\"button\" onClick={handleNewEndLocation}>Update end position</button>\n            ,\n            <hr />,\n            <p>Your trip start time: </p>,\n            <label htmlFor=\"input_start_time_hour\">Hour:</label>,\n            <input type=\"text\" id=\"input_start_time_hour\" onChange={(ev) => handleChange('startTimeHour', ev.target.value)} />,\n            <label htmlFor=\"input_start_time_minute\">Minute:</label>,\n            <input type=\"text\" id=\"input_start_time_minute\" onChange={(ev) => handleChange('startTimeMinute', ev.target.value)} />,\n            (this.state.startTimeHour == '' && this.state.startTimeMinute == '' ?\n                            <p style={{color: 'orange'}}>You havent set start time(assuming right now)</p>\n                            :\n                            null),\n            <hr />,\n            <label htmlFor=\"input_duration_minute\">Expected trip duration in minutes:</label>,\n            <input type=\"text\" id=\"input_duration_minute\"  onChange={(ev) => handleChange('tripDuration', ev.target.value)}/>,\n            (this.state.tripDuration == '' ?\n                                        <p style={{color: 'red'}}>You havent set your trip duration</p>\n                                        :\n                                        null),\n            <hr />,\n            <p>Choose accepted modes of transportation: </p>,\n            renderTravelModeCheckbox('driving'),\n            renderTravelModeCheckbox('bicycling'),\n            renderTravelModeCheckbox('transit'),\n        ];\n    }\n\n    loadConfigFromLocalStorage() {\n        let s = JSON.parse(localStorage.getItem('config'));\n        this.setState(s)\n    }\n\n    saveConfigToLocalStorage() {\n        let stateJson = JSON.stringify(this.state);\n        localStorage.setItem('config', stateJson);\n    }\n\n    render(){\n        return <form>\n            {this.renderStartEndTripLocationsInput()}\n            <p>Choose places of interest: </p>\n            <div style={{height: '200px', overflow: 'scroll'}}>\n                {SUPPORTED_PLACES_CODES.map(place_code => this.renderCheckbox(place_code))}\n            </div>\n            <hr />\n            <p>Additional keywords for finding places: </p>\n            <label htmlFor=\"input_keywords\">Search for places:</label>\n            <input type=\"text\" id=\"input_keywords\"  onChange={(ev) => this.setState({placesKeywords: ev.target.value})}/>\n            <hr />\n            {this.renderFindRoutesButton()}\n        </form>;\n    }\n}","/* @flow */\nimport React, { Component } from 'react';\n\ntype Props = {\n    notifyChangeScreen: Function,\n    result: FindRouteResult,\n}\n\nexport default class ResultPresenterComponent extends Component {\n\n    constructor(props){\n        super(props)\n\n        this.state = {currentlyExpandedRouteIndex: null}\n    }\n\n    renderSingleStep(name, color, singleStep, routeIndex) {\n        let result = [];\n        result.push(<p\n                style={{'background-color': color}}\n                onMouseEnter={() => this.setState({currentlyExpandedRouteIndex: routeIndex})}\n                onMouseLeave={() => this.setState({currentlyExpandedRouteIndex: null})} >\n            {name}\n        </p>);\n\n        let route = singleStep.routes[0];\n\n        let summary = route.summery;\n        for(let leg of route.legs) {\n            let letRes = \"   \" + leg.distance.text + \"(\" + leg.duration.text + \")\";\n            result.push(<p>\n                {letRes}\n            </p>);\n            let instructions = \"\";\n            for(let step of leg.steps) {\n                instructions += step.html_instructions + \"<br />\";\n            }\n            if(routeIndex == this.state.currentlyExpandedRouteIndex) {\n                result.push(<div dangerouslySetInnerHTML={{ __html: instructions }} />)\n            }\n        }\n\n        return <div>{[].concat(result)}</div>;\n    }\n\n    render() {\n        let placeIdToName = (id) => {\n            return this.props.result.places.results.filter(e => e.place_id == id)[0].name;\n        }\n\n        let steps = [];\n        if(this.props.result != null) {\n            let colorIndex = 0;\n            let routeIndex = 0;\n            for(let i = 0; i < this.props.result.directions.length; i++) {\n                let step = this.props.result.directions[i];\n                let previousStepName = null, currentStepName = null;\n                if(i == 0) {\n                    previousStepName = \"Start location\";\n                } else {\n                    previousStepName = placeIdToName(this.props.result.selectedPlaces.placesToVisitInOrder[i - 1].id);\n                }\n                if(i == this.props.result.directions.length - 1) {\n                    currentStepName = \"End location\";\n                } else {\n                    currentStepName = placeIdToName(this.props.result.selectedPlaces.placesToVisitInOrder[i].id);\n                }\n                let color = this.props.getColor(colorIndex);\n                steps.push(this.renderSingleStep(previousStepName + \"->\" + currentStepName, color, step, routeIndex));\n                colorIndex++;\n                routeIndex++;\n            }\n        }\n\n        return (<div style={{position: 'fixed', top: 0}}>\n            {steps}\n            <button type=\"button\" onClick={() => window.location = \"/\"}>Search again</button>\n        </div>);\n    }\n\n}","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport LeafletComponent from './components/LeafletComponent.js';\nimport FormComponent from './components/FormComponent.js';\nimport ResultPresenterComponent from './components/ResultPresenterComponent.js';\n\nexport type FindRouteResult = {\n    directions: Array<string>,\n    selectedPlaces: Array<any>,\n    places: any,\n    startLocation: any,\n    endLocation: any,\n    // TODO - dodać place details\n}\n\nconst APP_INSTRUCTIONS = \"To set your start/end location please:\\n - click on 'Set your start location'\\n - left click on map\"\n\nclass App extends Component {\n\n    props: Props;\n    state: State;\n\n    constructor(props: Props){\n        super(props);\n        this.state = {\n            lastMapClickCoords: null,\n            startLocation: null,\n            endLocation: null,\n            findRouteResult: null,\n            findRouteResultRev: 0,\n            resultPresenterVisible: false,\n        }\n    }\n\n    handleClickOnMap(latlng) {\n        this.setState({\n            lastMapClickCoords: latlng\n        });\n    }\n\n    handleNewStartLocation(latlng) {\n        this.setState({\n            startLocation: latlng\n        });\n    }\n\n    handleNewEndLocation(latlng) {\n        this.setState({\n            endLocation: latlng\n        });\n    }\n\n    handleFindRouteResult(result: FindRouteResult) {\n        let rev = this.state.findRouteResultRev + 1;\n        let directions = [];\n        for(let d of result.directions) {\n            directions.push(JSON.parse(d))\n        }\n        let res = {\n            directions: directions,\n            places: JSON.parse(result.places),\n            selectedPlaces: result.selectedPlaces,\n            startLocation: result.startLocation,\n            endLocation:  result.endLocation\n        }\n        this.setState({\n            findRouteResult: res,\n            findRouteResultRev: rev,\n            resultPresenterVisible: true,\n        });\n    }\n\n    getColor(index) {\n        // wybrane takie bardziej kontrastujące\n        const colors = ['#e6194b', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080', '#ffffff'];\n        let randomColor = () => {\n            const possible = \"0123456789abcdef\";\n            let r = () => possible[Math.floor(Math.random() * 16)];\n            return \"#\" + r() + r() + r();\n        }\n        if(colors.length <= index) {\n            let c = randomColor()\n            colors.push(c);\n            return c;\n        }\n        return colors[index];\n    }\n\n    render() {\n        let formComponentStyleDisplay = this.state.resultPresenterVisible ? 'none' : 'inline-block';\n        let resultPresenterStyleDisplay = this.state.resultPresenterVisible == false ? 'none' : 'inline-block';\n        return  <div>\n           <span>\n            <button type=\"button\" onClick={() => alert(APP_INSTRUCTIONS)}> Show instructions </button>\n            <br />\n               <div style={{display:'inline-block', marginRight:'20px'}}>\n                   <LeafletComponent\n                        handleClickOnMap={this.handleClickOnMap.bind(this)}\n                        startLocation={this.state.startLocation}\n                        endLocation={this.state.endLocation}\n                        findRouteResult={this.state.findRouteResult}\n                        findRouteResultRev={this.state.findRouteResultRev}\n                        getColor={this.getColor}\n                        />\n               </div>\n               <div style={{display:formComponentStyleDisplay, width: '600px'}}>\n                   <FormComponent\n                        lastMapClickCoords={this.state.lastMapClickCoords}\n                        notifyNewStartLocation={this.handleNewStartLocation.bind(this)}\n                        notifyNewEndLocation={this.handleNewEndLocation.bind(this)}\n                        notifyFindRouteResult={this.handleFindRouteResult.bind(this)}\n                         />\n               </div>\n               <div style={{display:resultPresenterStyleDisplay, width: '600px'}}>\n                  <ResultPresenterComponent\n                       notifyChangeScreen={() => this.setState({resultPresenterVisible: false})}\n                       result={this.state.findRouteResult}\n                       getColor={this.getColor}\n                        />\n               </div>\n           </span>\n        </div>;\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}